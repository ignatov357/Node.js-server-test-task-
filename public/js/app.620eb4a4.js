(function(e){function a(a){for(var n,s,o=a[0],l=a[1],u=a[2],d=0,p=[];d<o.length;d++)s=o[d],r[s]&&p.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(a);while(p.length)p.shift()();return i.push.apply(i,u||[]),t()}function t(){for(var e,a=0;a<i.length;a++){for(var t=i[a],n=!0,o=1;o<t.length;o++){var l=t[o];0!==r[l]&&(n=!1)}n&&(i.splice(a--,1),e=s(s.s=t[0]))}return e}var n={},r={app:0},i=[];function s(a){if(n[a])return n[a].exports;var t=n[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=n,s.d=function(e,a,t){s.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,a){if(1&a&&(e=s(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)s.d(t,n,function(a){return e[a]}.bind(null,n));return t},s.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(a,"a",a),a},s.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=a,o=o.slice();for(var u=0;u<o.length;u++)a(o[u]);var c=l;i.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("56d7")},"136a":function(e,a,t){},"1d6d":function(e,a,t){"use strict";var n=t("62ad"),r=t.n(n);r.a},"50ef":function(e,a,t){},"56d7":function(e,a,t){"use strict";t.r(a);t("96cf");var n=t("3040"),r=(t("cadf"),t("551c"),t("097d"),t("2b0e")),i=t("7bb1"),s=t("f213"),o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.$store.state.loaded?t("div",{attrs:{id:"app"}},[t("vue-snotify"),t("router-view",{staticClass:"view"})],1):e._e()},l=[],u={name:"app"},c=u,d=t("2877"),p=Object(d["a"])(c,o,l,!1,null,null,null);p.options.__file="App.vue";var f=p.exports,m=t("8c4f"),v=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container authorization"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-3 left"},[t("h3",[e._v(e._s("register"===e.activeTab?"Already have an account?":"Don't have an account yet?"))]),t("button",{on:{click:function(a){e.changeTab()}}},[e._v(e._s("register"===e.activeTab?"Login":"Sign up"))]),t("br")]),t("div",{staticClass:"col-md-9 right"},["register"===e.activeTab?t("SignUp",{attrs:{"submit-handler":e.registerHandler}}):e._e(),"login"===e.activeTab?t("SignIn",{attrs:{"submit-handler":e.loginHandler}}):e._e()],1)])])},h=[],g=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"login-container"}},[t("h3",{staticClass:"form-heading"},[e._v("Login")]),t("form",{on:{submit:function(a){a.preventDefault(),e.handler()}}},[t("div",{staticClass:"row form"},[t("div",{staticClass:"col-md-6"},[t("ValidateInput",{attrs:{validate:"required|email",name:"email",placeholder:"Your Email *"},model:{value:e.email,callback:function(a){e.email=a},expression:"email"}})],1),t("div",{staticClass:"col-md-6"},[t("ValidateInput",{attrs:{validate:"required",name:"password",placeholder:"Password *",type:"password"},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}}),t("input",{staticClass:"btn-submit",attrs:{type:"submit",value:"Login"}})],1)])])])},b=[],_=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"form-group"},[t("p",{staticClass:"control has-icon has-icon-right"},[t("input",{directives:[{name:"validate",rawName:"v-validate",value:e.validate,expression:"validate"}],staticClass:"form-control",class:{input:!0,"is-danger":e.errors.has(e.name)},attrs:{name:e.name,placeholder:e.placeholder,type:e.type,value:""},domProps:{value:e.value},on:{input:function(a){e.$emit("input",a.target.value)}}}),t("i",{directives:[{name:"show",rawName:"v-show",value:e.errors.has(e.name),expression:"errors.has(name)"}],staticClass:"fa fa-warning"}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has(e.name),expression:"errors.has(name)"}],staticClass:"help is-danger"},[e._v(e._s(e.errors.first(e.name)))])])])},w=[],y={name:"ValidateInput",props:{name:{type:String,required:!0},type:{type:String,default:"text"},placeholder:{type:String,required:!0},value:{type:String,required:!0},validate:{required:!0}},inject:["$validator"]},C=y,x=Object(d["a"])(C,_,w,!1,null,null,null);x.options.__file="ValidateInput.vue";var $=x.exports,S={props:{submitHandler:{type:Function,required:!0}},methods:{handler:function(){var e=this;this.$validator.validateAll().then(function(a){e.errors.items.length>0||e.submitHandler(e.$data)})}},provide:function(){return{$validator:this.$validator}}},U={name:"SignIn",components:{ValidateInput:$},data:function(){return{email:"",password:""}},mixins:[S]},j=U,D=(t("1d6d"),Object(d["a"])(j,g,b,!1,null,"f48aea3e",null));D.options.__file="SignIn.vue";var O=D.exports,P=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"register-container"}},[t("h3",{staticClass:"form-heading"},[e._v("Sign up")]),t("form",{on:{submit:function(a){a.preventDefault(),e.handler()}}},[t("div",{staticClass:"row form"},[t("div",{staticClass:"col-md-6"},[t("ValidateInput",{attrs:{validate:"required|min:4",name:"name",placeholder:"Your Name *"},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}}),t("ValidateInput",{attrs:{validate:"required|email",name:"email",placeholder:"Your Email *"},model:{value:e.email,callback:function(a){e.email=a},expression:"email"}}),t("ValidateInput",{attrs:{validate:"required|min:6",name:"password",placeholder:"Password *",type:"password"},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}})],1),t("div",{staticClass:"col-md-6"},[t("ValidateInput",{attrs:{validate:"required|min:4",name:"username",placeholder:"Username *"},model:{value:e.username,callback:function(a){e.username=a},expression:"username"}}),t("ValidateInput",{attrs:{validate:"required",name:"phone",placeholder:"Your Phone *"},model:{value:e.phone,callback:function(a){e.phone=a},expression:"phone"}}),t("ValidateInput",{attrs:{validate:{required:!0,is:e.password},name:"password confirmation",placeholder:"Confirm Password *",type:"password"},model:{value:e.passwordConfirmation,callback:function(a){e.passwordConfirmation=a},expression:"passwordConfirmation"}}),t("input",{staticClass:"btn-submit",attrs:{type:"submit",value:"Sign up"}})],1)])])])},I=[],k={name:"SignUp",components:{ValidateInput:$},data:function(){return{name:"",username:"",email:"",phone:"",password:"",passwordConfirmation:""}},mixins:[S]},q=k,T=(t("a082"),Object(d["a"])(q,P,I,!1,null,"3d047e88",null));T.options.__file="SignUp.vue";var V=T.exports,M=t("bc3a"),A=t.n(M),E={apiUrl:"/api/v1/",apiMethodUrl:function(e){return this.apiUrl+e}},H=function(e,a){e.then(function(e){a(null,e)}).catch(function(e){a(e,null)})},z=function(e,a){H(A.a.post(E.apiMethodUrl("register"),e),a)},R=function(e,a){H(A.a.post(E.apiMethodUrl("login"),e),a)},N=function(e){H(A.a.get(E.apiMethodUrl("user_data")),e)},L=function(e){H(A.a.post(E.apiMethodUrl("logout")),e)},Y={register:z,login:R,getUserData:N,logout:L},J=t("6bde"),F=function(e,a,t,n){t?"undefined"!==typeof t.response&&"object"===Object(J["a"])(t.response.data)?e.$snotify.error(t.response.data.errorMessage):e.$snotify.error("Problem connecting to the server"):200===n.status?(e.$snotify.success(n.data.message),a(e)):e.$snotify.error(n.data.errorMessage)},B={handleApiCallResponse:F},G={name:"AuthorizationPage",components:{SignIn:O,SignUp:V},data:function(){return{activeTab:"login"}},methods:{changeTab:function(){this.activeTab="register"===this.activeTab?"login":"register"},registerHandler:function(e){Y.register(e,B.handleApiCallResponse.bind(null,this,function(e){e.$store.dispatch("refreshUserData",e)}))},loginHandler:function(e){Y.login(e,B.handleApiCallResponse.bind(null,this,function(e){e.$store.dispatch("refreshUserData",e)}))}}},K=G,Q=(t("8e4b"),Object(d["a"])(K,v,h,!1,null,"54be75f7",null));Q.options.__file="AuthorizationPage.vue";var W=Q.exports,X=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e.user?t("p",[e._v("Name: "),t("b",[e._v(e._s(e.user.name))])]):e._e(),e.user?t("p",[e._v("Username: "),t("b",[e._v(e._s(e.user.username))])]):e._e(),e.user?t("p",[e._v("Email: "),t("b",[e._v(e._s(e.user.email))])]):e._e(),e.user?t("p",[e._v("Phone number: "),t("b",[e._v(e._s(e.user.phone))])]):e._e(),t("br"),t("a",{staticClass:"a-link",on:{click:function(a){a.preventDefault(),e.logoutHandler()}}},[e._v("Logout")])])},Z=[],ee=(t("a481"),{name:"DashboardPage",data:function(){return{user:this.$store.state.userData}},methods:{logoutHandler:function(){Y.logout(B.handleApiCallResponse.bind(null,this,function(e){e.$router.replace("/authorization")}))}}}),ae=ee,te=(t("9403"),Object(d["a"])(ae,X,Z,!1,null,"a3c11c9e",null));te.options.__file="DashboardPage.vue";var ne=te.exports;r["a"].use(m["a"]);var re=new m["a"]({mode:"history",routes:[{path:"/authorization",name:"authorization",component:W},{path:"/dashboard",name:"dashboard",component:ne}]}),ie=t("2f62");r["a"].use(ie["a"]);var se=new ie["a"].Store({state:{loaded:!1,userData:null},mutations:{setUserData:function(e,a){e.userData=a},loaded:function(e){e.loaded=!0}},actions:{refreshUserData:function(e,a){Y.getUserData(function(t,n){t||200!==n.status?a.$router.replace("/authorization"):(e.commit("setUserData",n.data),a.$router.replace("/dashboard")),e.commit("loaded")})}}});r["a"].config.productionTip=!1,r["a"].use(i["a"]),r["a"].use(s["a"]),new r["a"]({router:re,store:se,render:function(e){return e(f)},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$store.dispatch("refreshUserData",this);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}).$mount("#app")},"62ad":function(e,a,t){},"8e4b":function(e,a,t){"use strict";var n=t("136a"),r=t.n(n);r.a},9403:function(e,a,t){"use strict";var n=t("50ef"),r=t.n(n);r.a},a082:function(e,a,t){"use strict";var n=t("a6ff"),r=t.n(n);r.a},a6ff:function(e,a,t){}});
//# sourceMappingURL=app.620eb4a4.js.map